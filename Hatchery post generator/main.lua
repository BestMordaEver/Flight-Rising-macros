print("Expecting input\ndragons={name=id}")
while not dragons do pcall(core.processConsoleInput) end
print("Got input")

for name, id in pairs(dragons) do print(name,id) end

local str = [[
[columns]
[img]%s[/img]
[nextcol]
[center][img]http://flightrising.com/images/icons/small_%s.png[/img][img]http://flightrising.com/images/icons/%s_rune.png[/img][/center]
[center]"[b]%s[/b]"[/center]
[center]
[b]%s[/b] | %s
[b]%s[/b] | %s
[b]%s[/b] | %s
[b]%s %s Eyes[/b]
[/center]
[center][img]http://www1.flightrising.com/static/layout/icon_treasure.png[/img][b]12345[/b][img]http://www1.flightrising.com/static/layout/icon_treasure.png[/img][/center]
[center][img]http://www1.flightrising.com/static/layout/icon_gems.png[/img][b]123[/b][img]http://www1.flightrising.com/static/layout/icon_gems.png[/img][/center]
[center]
[url=http://flightrising.com/main.php?dragon=%s]
[img]https://www1.flightrising.com/rendern/avatars/%s/%s.png[/img]
[/url]
[/center]
[/columns]
]]

local traits = {
	breed = {
		Fae = 1,
		[1] = "Fae",
		Guardian = 2,
		[2] = "Guardian",
		Mirror = 3,
		[3] = "Mirror",
		Tundra = 6,
		[6] = "Tundra",
		Pearlcatcher = 4,
		[4] = "Pearlcatcher",
		Ridgeback = 5,
		[5] = "Ridgeback",
		Snapper = 9,
		[9] = "Snapper",
		Spiral = 7,
		[7] = "Spiral",
		Skydancer = 13,
		[13] = "Skydancer",
		Imperial = 8,
		[8] = "Imperial",
		Nocturne = 11,
		[11] = "Nocturne",
		Coatl = 12,
		[12] = "Coatl",
		Wildclaw = 10,
		[10] = "Wildclaw",
		Bogsneak = 14,
		[14] = "Bogsneak",
		Banescale = 18,
		[18] = "Banescale",
		Gaoler = 17,
		[17] = "Gaoler"
	},
	gender = {
		Male = 0,
		[0] = "Male",
		Female = 1,
		[1] = "Female"
	},
	age = {
		Hatchling = 0,
		[0] = "Hatchling",
		Dragon = 1,
		[1] = "Dragon"
	},
	primary = {
		["Bar"] = 6,
		[6] = "Bar",
		["Basic"] = 0,
		[0] = "Basic",
		["Cherub"] = 10,
		[10] = "Cherub",
		["Clown"] = 3,
		[3] = "Clown",
		["Crystal"] = 7,
		[7] = "Crystal",
		["Falcon"] = 16,
		[16] = "Falcon",
		["Giraffe"] = 12,
		[12] = "Giraffe",
		["Iridescent"] = 1,
		[1] = "Iridescent",
		["Jaguar"] = 19,
		[19] = "Jaguar",
		["Jupiter"] = 14,
		[14] = "Jupiter",
		["Laced"] = 26,
		[26] = "Laced",
		["Lionfish"] = 25,
		[25] = "Lionfish",
		["Metallic"] = 17,
		[17] = "Metallic",
		["Petals"] = 13,
		[13] = "Petals",
		["Piebald"] = 9,
		[9] = "Piebald",
		["Pinstripe"] = 22,
		[22] = "Pinstripe",
		["Poison"] = 11,
		[11] = "Poison",
		["Python"] = 23,
		[23] = "Python",
		["Ripple"] = 5,
		[5] = "Ripple",
		["Savannah"] = 18,
		[18] = "Savannah",
		["Skink"] = 15,
		[15] = "Skink",
		["Speckle"] = 4,
		[4] = "Speckle",
		["Starmap"] = 24,
		[24] = "Starmap",
		["Tapir"] = 21,
		[21] = "Tapir",
		["Tiger"] = 2,
		[2] = "Tiger",
		["Vipera"] = 8,
		[8] = "Vipera",
		["Wasp"] = 20,
		[20] = "Wasp",
		["Bar (Gaoler)"] = 34,
		[34] = "Bar (Gaoler)",
		["Candycane (Banescale)"] = 55,
		[55] = "Candycane (Banescale)",
		["Cherub (Banescale)"] = 43,
		[43] = "Cherub (Banescale)",
		["Chevron (Banescale)"] = 54,
		[54] = "Chevron (Banescale)",
		["Crystal (Gaoler)"] = 37,
		[37] = "Crystal (Gaoler)",
		["Fade"] = 42,
		[42] = "Fade",
		["Falcon (Gaoler)"] = 30,
		[30] = "Falcon (Gaoler)",
		["Giraffe (Gaoler)"] = 27,
		[27] = "Giraffe (Gaoler)",
		["Jaguar (Banescale)"] = 44,
		[44] = "Jaguar (Banescale)",
		["Jaguar (Gaoler)"] = 33,
		[33] = "Jaguar (Gaoler)",
		["Laced (Banescale)"] = 48,
		[48] = "Laced (Banescale)",
		["Marble (Banescale)"] = 47,
		[47] = "Marble (Banescale)",
		["Metallic (Banescale)"] = 49,
		[49] = "Metallic (Banescale)",
		["Mosaic (Gaoler)"] = 38,
		[38] = "Mosaic (Gaoler)",
		["Petals (Banescale)"] = 51,
		[51] = "Petals (Banescale)",
		["Phantom (Gaoler)"] = 39,
		[39] = "Phantom (Gaoler)",
		["Piebald (Gaoler)"] = 31,
		[31] = "Piebald (Gaoler)",
		["Pinstripe (Banescale)"] = 45,
		[45] = "Pinstripe (Banescale)",
		["Pinstripe (Gaoler)"] = 32,
		[32] = "Pinstripe (Gaoler)",
		["Poison (Banescale)"] = 53,
		[53] = "Poison (Banescale)",
		["Ragged (Banescale)"] = 56,
		[56] = "Ragged (Banescale)",
		["Savannah (Banescale)"] = 50,
		[50] = "Savannah (Banescale)",
		["Shaggy (Gaoler)"] = 29,
		[29] = "Shaggy (Gaoler)",
		["Skink (Banescale)"] = 52,
		[52] = "Skink (Banescale)",
		["Slime"] = 41,
		[41] = "Slime",
		["Tapir (Gaoler)"] = 35,
		[35] = "Tapir (Gaoler)",
		["Tiger (Banescale)"] = 46,
		[46] = "Tiger (Banescale)",
		["Tiger (Gaoler)"] = 36,
		[36] = "Tiger (Gaoler)",
		["Wasp (Gaoler)"] = 28,
		[28] = "Wasp (Gaoler)",
		["Leopard"] = 40,
		[40] = "Leopard"
	},
	secondary = {
		["Alloy"] = 17,
		[17] = "Alloy",
		["Basic"] = 0,
		[0] = "Basic",
		["Bee"] = 20,
		[20] = "Bee",
		["Butterfly"] = 13,
		[13] = "Butterfly",
		["Constellation"] = 25,
		[25] = "Constellation",
		["Current"] = 6,
		[6] = "Current",
		["Daub"] = 7,
		[7] = "Daub",
		["Edged"] = 26,
		[26] = "Edged",
		["Eye Spots"] = 3,
		[3] = "Eye Spots",
		["Facet"] = 8,
		[8] = "Facet",
		["Freckle"] = 4,
		[4] = "Freckle",
		["Hex"] = 14,
		[14] = "Hex",
		["Hypnotic"] = 9,
		[9] = "Hypnotic",
		["Morph"] = 23,
		[23] = "Morph",
		["Noxtide"] = 24,
		[24] = "Noxtide",
		["Paint"] = 10,
		[10] = "Paint",
		["Peregrine"] = 11,
		[11] = "Peregrine",
		["Rosette"] = 19,
		[19] = "Rosette",
		["Safari"] = 18,
		[18] = "Safari",
		["Saturn"] = 15,
		[15] = "Saturn",
		["Seraph"] = 5,
		[5] = "Seraph",
		["Shimmer"] = 1,
		[1] = "Shimmer",
		["Spinner"] = 16,
		[16] = "Spinner",
		["Striation"] = 21,
		[21] = "Striation",
		["Stripes"] = 2,
		[2] = "Stripes",
		["Toxin"] = 12,
		[12] = "Toxin",
		["Trail"] = 22,
		[22] = "Trail",
		["Alloy (Banescale)"] = 49,
		[49] = "Alloy (Banescale)",
		["Arrow (Banescale)"] = 54,
		[54] = "Arrow (Banescale)",
		["Bee (Gaoler)"] = 28,
		[28] = "Bee (Gaoler)",
		["Blend"] = 42,
		[42] = "Blend",
		["Breakup (Gaoler)"] = 38,
		[38] = "Breakup (Gaoler)",
		["Butterfly (Banescale)"] = 51,
		[51] = "Butterfly (Banescale)",
		["Clouded"] = 40,
		[40] = "Clouded",
		["Daub (Gaoler)"] = 34,
		[34] = "Daub (Gaoler)",
		["Edged (Banescale)"] = 48,
		[48] = "Edged (Banescale)",
		["Facet (Gaoler)"] = 37,
		[37] = "Facet (Gaoler)",
		["Hex (Gaoler)"] = 27,
		[27] = "Hex (Gaoler)",
		["Mottle (Banescale)"] = 47,
		[47] = "Mottle (Banescale)",
		["Paint (Gaoler)"] = 31,
		[31] = "Paint (Gaoler)",
		["Peregrine (Gaoler)"] = 30,
		[30] = "Peregrine (Gaoler)",
		["Rosette (Banescale)"] = 44,
		[44] = "Rosette (Banescale)",
		["Rosette (Gaoler)"] = 33,
		[33] = "Rosette (Gaoler)",
		["Safari (Banescale)"] = 50,
		[50] = "Safari (Banescale)",
		["Seraph (Banescale)"] = 43,
		[43] = "Seraph (Banescale)",
		["Sludge"] = 41,
		[41] = "Sludge",
		["Spinner (Banescale)"] = 52,
		[52] = "Spinner (Banescale)",
		["Spirit (Gaoler)"] = 39,
		[39] = "Spirit (Gaoler)",
		["Streak (Gaoler)"] = 29,
		[29] = "Streak (Gaoler)",
		["Striation (Gaoler)"] = 35,
		[35] = "Striation (Gaoler)",
		["Stripes (Banescale)"] = 46,
		[46] = "Stripes (Banescale)",
		["Stripes (Gaoler)"] = 36,
		[36] = "Stripes (Gaoler)",
		["Sugarplum (Banescale)"] = 55,
		[55] = "Sugarplum (Banescale)",
		["Tear (Banescale)"] = 56,
		[56] = "Tear (Banescale)",
		["Toxin (Banescale)"] = 53,
		[53] = "Toxin (Banescale)",
		["Trail (Banescale)"] = 45,
		[45] = "Trail (Banescale)",
		["Trail (Gaoler)"] = 32,
		[32] = "Trail (Gaoler)"
	},
	tertiary = {
		["Basic"] = 0,
		[0] = "Basic",
		["Capsule"] = 18,
		[18] = "Capsule",
		["Circuit"] = 1,
		[1] = "Circuit",
		["Contour"] = 13,
		[13] = "Contour",
		["Crackle"] = 6,
		[6] = "Crackle",
		["Filigree"] = 21,
		[21] = "Filigree",
		["Firefly"] = 22,
		[22] = "Firefly",
		["Gembond"] = 4,
		[4] = "Gembond",
		["Ghost"] = 20,
		[20] = "Ghost",
		["Glimmer"] = 10,
		[10] = "Glimmer",
		["Lace"] = 16,
		[16] = "Lace",
		["Okapi"] = 9,
		[9] = "Okapi",
		["Opal"] = 17,
		[17] = "Opal",
		["Peacock"] = 24,
		[24] = "Peacock",
		["Ringlets"] = 23,
		[23] = "Ringlets",
		["Runes"] = 14,
		[14] = "Runes",
		["Scales"] = 15,
		[15] = "Scales",
		["Smirch"] = 19,
		[19] = "Smirch",
		["Smoke"] = 7,
		[7] = "Smoke",
		["Spines"] = 8,
		[8] = "Spines",
		["Stained"] = 12,
		[12] = "Stained",
		["Thylacine"] = 11,
		[11] = "Thylacine",
		["Underbelly"] = 5,
		[5] = "Underbelly",
		["Blossom (Gaoler)"] = 36,
		[36] = "Blossom (Gaoler)",
		["Contour (Banescale)"] = 46,
		[46] = "Contour (Banescale)",
		["Crackle (Banescale)"] = 50,
		[50] = "Crackle (Banescale)",
		["Fans (Banescale)"] = 41,
		[41] = "Fans (Banescale)",
		["Filigree (Banescale)"] = 43,
		[43] = "Filigree (Banescale)",
		["Ghost (Banescale)"] = 47,
		[47] = "Ghost (Banescale)",
		["Ghost (Gaoler)"] = 25,
		[25] = "Ghost (Gaoler)",
		["Gnarlhorns (Gaoler)"] = 27,
		[27] = "Gnarlhorns (Gaoler)",
		["Lace (Banescale)"] = 44,
		[44] = "Lace (Banescale)",
		["Opal (Gaoler)"] = 37,
		[37] = "Opal (Gaoler)",
		["Plumage (Banescale)"] = 51,
		[51] = "Plumage (Banescale)",
		["Porcupine (Banescale)"] = 49,
		[49] = "Porcupine (Banescale)",
		["Ringlets (Banescale)"] = 40,
		[40] = "Ringlets (Banescale)",
		["Ringlets (Gaoler)"] = 30,
		[30] = "Ringlets (Gaoler)",
		["Runes (Gaoler)"] = 32,
		[32] = "Runes (Gaoler)",
		["Scorpion (Gaoler)"] = 33,
		[33] = "Scorpion (Gaoler)",
		["Shardflank (Gaoler)"] = 26,
		[26] = "Shardflank (Gaoler)",
		["Skeletal (Banescale)"] = 45,
		[45] = "Skeletal (Banescale)",
		["Smoke (Gaoler)"] = 28,
		[28] = "Smoke (Gaoler)",
		["Squiggle (Banescale)"] = 42,
		[42] = "Squiggle (Banescale)",
		["Thylacine (Gaoler)"] = 27,
		[27] = "Thylacine (Gaoler)",
		["Trimming (Banescale)"] = 39,
		[39] = "Trimming (Banescale)",
		["Underbelly (Gaoler)"] = 31,
		[31] = "Underbelly (Gaoler)",
		["Veined"] = 38,
		[38] = "Veined",
		["Veined (Gaoler)"] = 2,
		[2] = "Veined (Gaoler)",
		["Weathered (Gaoler)"] = 35,
		[35] = "Weathered (Gaoler)",
		["Wintercoat (Gaoler)"] = 34,
		[34] = "Wintercoat (Gaoler)",
		["Wraith (Banescale)"] = 48,
		[48] = "Wraith (Banescale)"
	},
	color = {
		["Maize"] = 1,
		[1] = "Maize",
		["Cream"] = 163,
		[163] = "Cream",
		["Antique"] = 97,
		[97] = "Antique",
		["White"] = 2,
		[2] = "White",
		["Moon"] = 74,
		[74] = "Moon",
		["Ice"] = 3,
		[3] = "Ice",
		["Orca"] = 131,
		[131] = "Orca",
		["Platinum"] = 4,
		[4] = "Platinum",
		["Silver"] = 5,
		[5] = "Silver",
		["Dust"] = 146,
		[146] = "Dust",
		["Grey"] = 6,
		[6] = "Grey",
		["Smoke"] = 91,
		[91] = "Smoke",
		["Gloom"] = 98,
		[98] = "Gloom",
		["Lead"] = 118,
		[118] = "Lead",
		["Shale"] = 177,
		[177] = "Shale",
		["Flint"] = 129,
		[129] = "Flint",
		["Charcoal"] = 7,
		[7] = "Charcoal",
		["Coal"] = 8,
		[8] = "Coal",
		["Oilslick"] = 70,
		[70] = "Oilslick",
		["Black"] = 9,
		[9] = "Black",
		["Obsidian"] = 10,
		[10] = "Obsidian",
		["Eldritch"] = 176,
		[176] = "Eldritch",
		["Midnight"] = 11,
		[11] = "Midnight",
		["Shadow"] = 12,
		[12] = "Shadow",
		["Blackberry"] = 127,
		[127] = "Blackberry",
		["Mulberry"] = 13,
		[13] = "Mulberry",
		["Plum"] = 92,
		[92] = "Plum",
		["Wisteria"] = 119,
		[119] = "Wisteria",
		["Thistle"] = 14,
		[14] = "Thistle",
		["Fog"] = 137,
		[137] = "Fog",
		["Mist"] = 150,
		[150] = "Mist",
		["Lavender"] = 15,
		[15] = "Lavender",
		["Heather"] = 68,
		[68] = "Heather",
		["Purple"] = 16,
		[16] = "Purple",
		["Orchid"] = 69,
		[69] = "Orchid",
		["Amethyst"] = 114,
		[114] = "Amethyst",
		["Nightshade"] = 175,
		[175] = "Nightshade",
		["Violet"] = 17,
		[17] = "Violet",
		["Grape"] = 147,
		[147] = "Grape",
		["Royal"] = 18,
		[18] = "Royal",
		["Eggplant"] = 111,
		[111] = "Eggplant",
		["Iris"] = 82,
		[82] = "Iris",
		["Storm"] = 19,
		[19] = "Storm",
		["Twilight"] = 174,
		[174] = "Twilight",
		["Indigo"] = 112,
		[112] = "Indigo",
		["Sapphire"] = 71,
		[71] = "Sapphire",
		["Navy"] = 20,
		[20] = "Navy",
		["Cobalt"] = 163,
		[163] = "Cobalt",
		["Ultramarine"] = 90,
		[90] = "Ultramarine",
		["Blue"] = 21,
		[21] = "Blue",
		["Periwinkle"] = 135,
		[135] = "Periwinkle",
		["Lapis"] = 148,
		[148] = "Lapis",
		["Splash"] = 22,
		[22] = "Splash",
		["Cornflower"] = 145,
		[145] = "Cornflower",
		["Sky"] = 23,
		[23] = "Sky",
		["Stonewash"] = 24,
		[24] = "Stonewash",
		["Overcast"] = 126,
		[126] = "Overcast",
		["Steel"] = 25,
		[25] = "Steel",
		["Denim"] = 26,
		[26] = "Denim",
		["Abyss"] = 96,
		[96] = "Abyss",
		["Phthalo"] = 151,
		[151] = "Phthalo",
		["Azure"] = 27,
		[27] = "Azure",
		["Caribbean"] = 28,
		[28] = "Caribbean",
		["Teal"] = 29,
		[29] = "Teal",
		["Cerulean"] = 117,
		[117] = "Cerulean",
		["Cyan"] = 89,
		[89] = "Cyan",
		["Robin"] = 99,
		[99] = "Robin",
		["Aqua"] = 30,
		[30] = "Aqua",
		["Turquoise"] = 149,
		[149] = "Turquoise",
		["Spruce"] = 100,
		[100] = "Spruce",
		["Pistachio"] = 125,
		[125] = "Pistachio",
		["Seafoam"] = 31,
		[31] = "Seafoam",
		["Mint"] = 152,
		[152] = "Mint",
		["Jade"] = 32,
		[32] = "Jade",
		["Spearmint"] = 78,
		[78] = "Spearmint",
		["Thicket"] = 141,
		[141] = "Thicket",
		["Peacock"] = 134,
		[134] = "Peacock",
		["Emerald"] = 33,
		[33] = "Emerald",
		["Shamrock"] = 80,
		[80] = "Shamrock",
		["Jungle"] = 34,
		[34] = "Jungle",
		["Hunter"] = 81,
		[81] = "Hunter",
		["Forest"] = 35,
		[35] = "Forest",
		["Camo"] = 154,
		[154] = "Camo",
		["Algae"] = 153,
		[153] = "Algae",
		["Swamp"] = 36,
		[36] = "Swamp",
		["Avocado"] = 37,
		[37] = "Avocado",
		["Green"] = 38,
		[38] = "Green",
		["Fern"] = 113,
		[113] = "Fern",
		["Mantis"] = 79,
		[79] = "Mantis",
		["Pear"] = 101,
		[101] = "Pear",
		["Leaf"] = 39,
		[39] = "Leaf",
		["Radioactive"] = 130,
		[130] = "Radioactive",
		["Honeydew"] = 102,
		[102] = "Honeydew",
		["Peridot"] = 144,
		[144] = "Peridot",
		["Chartreuse"] = 155,
		[155] = "Chartreuse",
		["Spring"] = 40,
		[40] = "Spring",
		["Crocodile"] = 173,
		[173] = "Crocodile",
		["Olive"] = 123,
		[123] = "Olive",
		["Murk"] = 144,
		[144] = "Murk",
		["Moss"] = 115,
		[115] = "Moss",
		["Goldenrod"] = 41,
		[41] = "Goldenrod",
		["Amber"] = 103,
		[103] = "Amber",
		["Honey"] = 93,
		[93] = "Honey",
		["Lemon"] = 42,
		[42] = "Lemon",
		["Yellow"] = 104,
		[104] = "Yellow",
		["Grapefruit"] = 128,
		[128] = "Grapefruit",
		["Banana"] = 43,
		[43] = "Banana",
		["Sanddollar"] = 110,
		[110] = "Sanddollar",
		["Flaxen"] = 139,
		[139] = "Flaxen",
		["Ivory"] = 44,
		[44] = "Ivory",
		["Buttercup"] = 167,
		[167] = "Buttercup",
		["Gold"] = 45,
		[45] = "Gold",
		["Metals"] = 140,
		[140] = "Metals",
		["Marigold"] = 75,
		[75] = "Marigold",
		["Sunshine"] = 46,
		[46] = "Sunshine",
		["Saffron"] = 84,
		[84] = "Saffron",
		["Sunset"] = 172,
		[172] = "Sunset",
		["Peach"] = 105,
		[105] = "Peach",
		["Cantaloupe"] = 171,
		[171] = "Cantaloupe",
		["Orange"] = 47,
		[47] = "Orange",
		["Bronze"] = 83,
		[83] = "Bronze",
		["Terracotta"] = 108,
		[108] = "Terracotta",
		["Carrot"] = 133,
		[133] = "Carrot",
		["Fire"] = 48,
		[48] = "Fire",
		["Pumpkin"] = 158,
		[158] = "Pumpkin",
		["Tangerine"] = 49,
		[49] = "Tangerine",
		["Cinnamon"] = 77,
		[77] = "Cinnamon",
		["Caramel"] = 156,
		[156] = "Caramel",
		["Sand"] = 50,
		[50] = "Sand",
		["Tan"] = 76,
		[76] = "Tan",
		["Beige"] = 51,
		[51] = "Beige",
		["Stone"] = 52,
		[52] = "Stone",
		["Taupe"] = 95,
		[95] = "Taupe",
		["Slate"] = 53,
		[53] = "Slate",
		["Driftwood"] = 165,
		[165] = "Driftwood",
		["Latte"] = 143,
		[143] = "Latte",
		["Dirt"] = 162,
		[162] = "Dirt",
		["Clay"] = 106,
		[106] = "Clay",
		["Sable"] = 138,
		[138] = "Sable",
		["Umber"] = 157,
		[157] = "Umber",
		["Soil"] = 54,
		[54] = "Soil",
		["Hickory"] = 88,
		[88] = "Hickory",
		["Tarnish"] = 124,
		[124] = "Tarnish",
		["Ginger"] = 122,
		[122] = "Ginger",
		["Brown"] = 55,
		[55] = "Brown",
		["Chocolate"] = 56,
		[56] = "Chocolate",
		["Auburn"] = 166,
		[166] = "Auburn",
		["Copper"] = 94,
		[94] = "Copper",
		["Rust"] = 57,
		[57] = "Rust",
		["Tomato"] = 58,
		[58] = "Tomato",
		["Vermillion"] = 169,
		[169] = "Vermillion",
		["Ruby"] = 86,
		[86] = "Ruby",
		["Cherry"] = 116,
		[116] = "Cherry",
		["Crimson"] = 59,
		[59] = "Crimson",
		["Garnet"] = 161,
		[161] = "Garnet",
		["Sanguine"] = 121,
		[121] = "Sanguine",
		["Blood"] = 60,
		[60] = "Blood",
		["Maroon"] = 61,
		[61] = "Maroon",
		["Berry"] = 87,
		[87] = "Berry",
		["Red"] = 62,
		[62] = "Red",
		["Strawberry"] = 168,
		[168] = "Strawberry",
		["Cerise"] = 132,
		[132] = "Cerise",
		["Carmine"] = 63,
		[63] = "Carmine",
		["Brick"] = 107,
		[107] = "Brick",
		["Coral"] = 64,
		[64] = "Coral",
		["Blush"] = 159,
		[159] = "Blush",
		["Cotton Candy"] = 164,
		[164] = "Cotton Candy",
		["Watermelon"] = 120,
		[120] = "Watermelon",
		["Magenta"] = 65,
		[65] = "Magenta",
		["Fuchsia"] = 170,
		[170] = "Fuchsia",
		["Raspberry"] = 160,
		[160] = "Raspberry",
		["Wine"] = 72,
		[72] = "Wine",
		["Mauve"] = 73,
		[73] = "Mauve",
		["Pink"] = 66,
		[66] = "Pink",
		["Bubblegum"] = 109,
		[109] = "Bubblegum",
		["Rose"] = 67,
		[67] = "Rose",
		["Pearl"] = 85,
		[85] = "Pearl"
	},
	flight = {
		Earth = 1,
		[1] = "Earth",
		Fire = 11,
		[11] = "Fire",
		Wind = 3,
		[3] = "Wind",
		Water = 4,
		[4] = "Water",
		Shadow = 7,
		[7] = "Shadow",
		Ice = 6,
		[6] = "Ice",
		Lightning = 5,
		[5] = "Lightning",
		Light = 8,
		[8] = "Light",
		Nature = 10,
		[10] = "Nature",
		Plague = 2,
		[2] = "Plague",
		Arcane = 9,
		[9] = "Arcane",
	},
	eyes = {
		["Common"] = 0,
		[0] = "Common",
		["Uncommon"] = 1,
		[1] = "Uncommon",
		["Unusual"] = 2,
		[2] = "Unusual",
		["Swirl"] = 10,
		[10] = "Swirl",
		["Rare"] = 3,
		[3] = "Rare",
		["Goat"] = 9,
		[9] = "Goat",
		["Faceted"] = 4,
		[4] = "Faceted",
		["Multigaze"] = 5,
		[5] = "Multigaze",
		["Primal"] = 6,
		[6] = "Primal",
		["Glowing"] = 7,
		[7] = "Glowing",
		["Innocent"] = 11,
		[11] = "Innocent",
		["Dark Sclera"] = 8,
		[8] = "Dark Sclera"
	}
}

local function scry (breed, gender, age, primaryG, primaryC, secondaryG, secondaryC, tertiaryG, tertiaryC, flight, eyes)
	assert(type(breed) == "string", "bad argument #1 to 'scry' (string expected, got "..type(breed)..")")
	assert(type(gender) == "string", "bad argument #2 to 'scry' (string expected, got "..type(gender)..")")
	assert(type(age) == "string", "bad argument #3 to 'scry' (string expected, got "..type(age)..")")
	assert(type(primaryG) == "string", "bad argument #4 to 'scry' (string expected, got "..type(primaryG)..")")
	assert(type(primaryC) == "string", "bad argument #5 to 'scry' (string expected, got "..type(primaryC)..")")
	assert(type(secondaryG) == "string", "bad argument #6 to 'scry' (string expected, got "..type(secondaryG)..")")
	assert(type(secondaryC) == "string", "bad argument #7 to 'scry' (string expected, got "..type(secondaryC)..")")
	assert(type(tertiaryG) == "string", "bad argument #8 to 'scry' (string expected, got "..type(tertiaryG)..")")
	assert(type(tertiaryC) == "string", "bad argument #9 to 'scry' (string expected, got "..type(tertiaryC)..")")
	assert(type(flight) == "string", "bad argument #10 to 'scry' (string expected, got "..type(flight)..")")
	assert(type(eyes) == "string", "bad argument #11 to 'scry' (string expected, got "..type(eyes)..")")
	return string.format("https://www1.flightrising.com/scrying/predict?breed=%s&gender=%s&age=%s&bodygene=%s&body=%s&winggene=%s&wings=%s&tertgene=%s&tert=%s&element=%s&eyetype=%s", traits.breed[breed], traits.gender[gender], traits.age[age], traits.primary[primaryG], traits.color[primaryC], traits.secondary[secondaryG], traits.color[secondaryC], traits.tertiary[tertiaryG], traits.color[tertiaryC], traits.flight[flight], traits.eyes[eyes])
end

local driver = webdriver.create()

for name, id in pairs(dragons) do
	driver.GoToUrl("https://flightrising.com/main.php?dragon="..id)
	
	local breed = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[2]/div/div[2]')[1].text:find("(%a+)"))
	local flight = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div[4]')[1].text:find("%a+%s%u%l+(%u%l+)"))
	local eyes = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div[4]')[1].text:find("%a+%s%a+%s(%a+)"))
	local gender = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[2]/div/div[2]')[1].text:find("%s(%a+)"))
	local primaryC = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[1].text:find("%l+(%u%a+)"))
	local primaryG = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[1].text:find("%l+%u%l+%s(%a+)"))
	local secondaryC = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[2].text:find("%l+(%u%a+)"))
	local secondaryG = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[2].text:find("%l+%u%l+%s(%a+)"))
	local tertiaryC = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[3].text:find("%l+(%u%a+)"))
	local tertiaryG = select(3, driver.findElementsByXPath('//*[@id="newname"]/fieldset/div[2]/span[8]/div/div')[3].text:find("%l+%u%l+%s(%a+)"))
	
	driver.GoToUrl(scry(breed, gender, "Dragon", primaryG, primaryC, secondaryG, secondaryC, tertiaryG, tertiaryC, flight, eyes))
	driver.findElementsByXPath('//*[@id="morphology-image-link"]')[1].click()
	os.execute("powershell \"Get-Clipboard > 'Data\\Packages\\Hatchery post generator\\clipboard.txt'\"")
	local file = io.open("data/packages/hatchery post generator/clipboard.txt","r")
	local scry = file:read("*all")
	file:close()
	
	print(string.format(str,
		scry,
		string.lower(gender),
		string.lower(flight),
		name, primaryC, primaryG, secondaryC, secondaryG, tertiaryC, tertiaryG,
		eyes, flight, id,
		tonumber(tostring(id):sub(1,5))+1, id))
end

driver.close()